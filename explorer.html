<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta content="width=device-width, initial-scale=1.0" name="viewport" />
  <title>Projet 'ITE3</title>
  <link href="css/explorer.css" rel="stylesheet" />
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet" />
  <meta content="IE=edge" http-equiv="X-UA-Compatible" />
</head>

<body>
  <main class="page-layout">

    <!-- ‚úÖ Zone 1 : Barre lat√©rale -->
    <div class="side-panel">
    <div class="side-scrollable-content">
        <h3 class="title-3">Trier et filtrer</h3>

        <div class="filter-box">
          <h4 class="box-title">Trier par ordre :</h4>
          <select id="sortOrder" class="sort-select" onchange="updateTimeline()">
            <option value="asc">Chronologique</option>
            <option value="desc">Anti-chronologique</option>
          </select>
        </div>

        <div class="dropdown-checkbox">
          <h4 class="title-4">
            Cat√©gories
            <i class="fa-solid fa-circle-info" onclick="toggleInfoModal()" title="√Ä propos des cat√©gories"></i>
          </h4>
          <div id="categoryDropdown"></div>
        </div>

        <div class="dropdown-checkbox">
          <h4 class="title-4">
            Mots-cl√©s
            <i class="fa-solid fa-circle-info" onclick="toggleKeywordModal()" title="√Ä propos des mots-cl√©s"></i>
          </h4>
          <div id="keywordDropdown"></div>
        </div>

        <div class="search-box">
          <h4 class="title-4">Chercher dans tous les champs</h4>
          <textarea id="searchInput" oninput="updateTimeline()" placeholder="Tapez le mot recherch√©"></textarea>
        </div>

        <div id="active-filters-section">
          <h4 class="title-4">Filtres s√©lectionn√©s</h4>
          <div id="active-filters"></div>
        </div>

        <button class="button centered-button" onclick="resetFilters()">R√©initialiser les filtres</button>
      </div>

      <div class="side-footer">
        ¬© 2025 ‚Äì Tous droits r√©serv√©s
      </div>
    </div>
    <div class="side-footer">¬© 2025 ‚Äì Tous droits r√©serv√©s</div>
  </div>

    <!-- ‚úÖ Zone 2 : Frise -->
   <div class="timeline" id="timeline">
      <div id="event-count-text"></div>
      <!-- Les √©v√©nements de la frise seront inject√©s ici -->
   
    <!-- ‚úÖ Zone 3 : Fiche -->
     <div class="event-details" id="event-details-container">
      <p style="text-align:center; font-style:italic; color:#5F5F5F;">
        Cliquez sur un √©v√©nement pour acc√©der √† sa fiche d√©taill√©e puis utilisez les fl√®ches ‚Äú‚óÄ‚Äù et ‚Äú‚ñ∂‚Äù pour naviguer entre les √©v√©nements (filtr√©s).
      </p>
  </div>
</main>

  <!-- Bouton Admin -->
  <button id="admin-toggle-btn" onclick="toggleAdmin()" style="position:fixed; bottom:10px; right:10px; opacity:0.2;">üîß</button>

  <!-- Modale cat√©gories -->
  <div class="info-modal hidden" id="infoModal">
    <div class="info-modal-content">
      <button class="info-close-btn" onclick="toggleInfoModal()">√ó</button>
      <h3 class="title-3">√Ä propos des cat√©gories</h3>
      <p>
        Ce filtre s‚Äôappuie sur les
        <a href="https://iris.who.int/bitstream/handle/10665/376579/9789240091436-eng.pdf" target="_blank">
          Fonctions Essentielles de Sant√© Publique (FESP)
        </a>
        de l‚ÄôOMS, regroup√©es en 5 grandes familles :
      </p>
      <ul>
        <li><strong>Gouvernance et pilotage strat√©gique</strong> : coordination, planification, participation, qualit√© et √©quit√©</li>
        <li><strong>Donn√©es surveillance et recherche</strong> : production, analyse et utilisation de l'information sanitaire</li>
        <li><strong>Promotion de la sant√© et pr√©vention</strong> : actions comportementales, sociales et populationnelles</li>
        <li><strong>Protection sanitaire et gestion des risques</strong> : r√©ponse aux menaces sanitaires, environnementales ou r√©glementaires</li>
        <li><strong>Acc√®s aux services et aux moyens</strong> : ressources humaines, infrastructures, technologies, acc√®s aux soins</li>
      </ul>
      <p>La cat√©gorie <strong>Contexte</strong> regroupe des √©v√©nements ayant un impact indirect sur la sant√© publique.</p>
      <p>Dans la liste des cases √† cocher, vous pouvez s√©lectionner plusieurs options, mais elles sont trait√©es comme des choix s√©par√©s ("OU") et non combin√©s ("ET").</p>
    </div>
  </div>

  <!-- Modale mots-cl√©s -->
  <div class="info-modal hidden" id="keywordModal">
    <div class="info-modal-content">
      <button class="info-close-btn" onclick="toggleKeywordModal()">√ó</button>
      <h3 class="title-3">√Ä propos des mots-cl√©s</h3>
      <p>
        Les <strong>mots-cl√©s</strong> sont issus autant que possible du th√©saurus
        <a href="https://decs.bvsalud.org/fr" target="_blank">DeCS</a>.
      </p>
      <p>Dans la liste des cases √† cocher, vous pouvez s√©lectionner plusieurs options, mais elles sont trait√©es comme des choix s√©par√©s ("OU") et non combin√©s ("ET").</p>
    </div>
  </div>

  <!-- Script -->
  <script src="js/explorer.js"></script>

  <!-- Bouton maison retour accueil -->
  <a href="index.html" class="floating-home-btn" title="Retour √† l‚Äôaccueil">
    <i class="fas fa-home"></i>
  </a>
</body>
</html>
