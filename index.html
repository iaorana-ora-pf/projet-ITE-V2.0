<!DOCTYPE html>
<html lang="fr">
  <head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Projet 'ITE1</title>
  <link rel="stylesheet" href="index/index.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
</head>

<body>
 <!-- ‚úÖ Ecran d'acceuil -->
<div id="welcomePopup" class="popup">
  <div class="popup-content">
    <h1>Bienvenue sur 'ITE</h1>
    <p class="event-count-highlight">
      Explorez et plongez dans les d√©tails de 
      <span id="event-count-number">0</span>
      √©v√©nements de sant√© publique en Polyn√©sie fran√ßaise √† travers une frise chronologique interactive.
    </p>

    <p class="popup-description">
      'ITE est une base de connaissances qui rassemble, organise et partage des informations sur la sant√© publique en Polyn√©sie fran√ßaise.
      Gr√¢ce √† ce projet, vous pouvez explorer les √©v√©nements par ann√©e, cat√©gorie ou mots-cl√©s, et acc√©der √† des fiches descriptives.<br><br>
      Port√© par Emmanuelle RUPP-TERRIS, ‚ÄòITE est un projet personnel, collaboratif et en constante √©volution. Il s'enrichit progressivement gr√¢ce
      aux contributions et aux donn√©es collect√©es au fil du temps. N‚Äôh√©sitez pas √† proposer un √©v√©nement, chaque contribution sera √©tudi√©e avec attention.
    </p>

    <!-- Conteneur pour les boutons -->
    <div class="button-container">
      <!-- Bouton pour explorer la frise -->
       <a href="#frise">
          <button class="popup-btn" id="exploreBtn">Explorer la frise</button>
      </a>
      
      <!-- Bouton pour proposer un √©v√©nement -->
      <a href="https://forms.gle/KYdBJ4PTWJfuWVFU6" target="_blank" rel="noopener noreferrer">
        <button class="popup-btn">Proposer un √©v√©nement</button>
      </a>

      <!-- Lien mailto pour le contact -->
      <a href="mailto:contact@paanapf.com">
        <button class="popup-btn">Contact</button>
      </a>
    </div>
  </div>
</div>
  

  <!-- ‚úÖ Barre lat√©rale -->
  <div id="app-layout" class="layout-with-sidebar">
    <div id="side-panel" class="side-panel">
        <!-- Contenu scrollable -->
  <div class="side-scrollable-content">
    <div class="filters-block"> 
         <div class="filters-block-header" style="display: flex; align-items: center; justify-content: space-between;">
           <h3 class="title-3 inline-icon">Filtres</h3>
         </div>
        <div id="filters-content">
      <div class="filtres-ligne">
    
      <!-- Bloc Cat√©gories -->
       <div class="dropdown-checkbox" style="position: relative;">
         <h4 class="title-4 inline-icon">
         Cat√©gories
         <i class="fa-solid fa-circle-info" onclick="toggleInfoModal()" title="√Ä propos des cat√©gories"></i>
         </h4>
         <div id="categoryDropdown"></div>
      </div>

    <!-- Modale pour l‚Äôinfo Cat√©gories -->
    <div id="infoModal" class="info-modal hidden">
      <div class="info-modal-content">
        <button class="info-close-btn" onclick="toggleInfoModal()">√ó</button>
          <h3 class="title-3">√Ä propos des cat√©gories</h3>
          <p>Ce filtre s‚Äôappuie sur les <a href="https://iris.who.int/bitstream/handle/10665/376579/9789240091436-eng.pdf" target="_blank">Fonctions
            Essentielles de Sant√© Publique (FESP)</a> de l‚ÄôOMS, regroup√©es en 5 grandes familles :</p>
          <ul>
            <li><strong>Gouvernance et pilotage strat√©gique</strong> : coordination, planification, participation, qualit√© et √©quit√©</li>
            <li><strong>Donn√©es surveillance et recherche</strong> : production, analyse et utilisation de l'information sanitaire</li>
            <li><strong>Promotion de la sant√© et pr√©vention</strong> : actions comportementales, sociales et populationnelles</li>
            <li><strong>Protection sanitaire et gestion des risques</strong> : r√©ponse aux menaces sanitaires, environnementales ou r√©glementaires</li>
            <li><strong>Acc√®s aux services et aux moyens</strong> : ressources humaines, infrastructures, technologies, acc√®s aux soins</li>
          </ul>
          <p>La cat√©gorie <strong>"Contexte"</strong> regroupe des √©v√©nements ayant un impact indirect sur la sant√© publique.</p>
          <p>Dans la liste des cases √† cocher, vous pouvez s√©lectionner plusieurs options, mais elles sont trait√©es comme des choix s√©par√©s ("OU") et non combin√©s ("ET")."</p>
        </div>
      </div>
      

    <!-- Bloc Mots-cl√©s -->
     <div class="dropdown-checkbox" style="position: relative;">
        <h4 class="title-4 inline-icon">
        Mots-cl√©s
        <i class="fa-solid fa-circle-info" onclick="toggleKeywordModal()" title="√Ä propos des mots-cl√©s"></i>
        </h4>
        <div id="keywordDropdown"></div>
    </div>

  <!-- Modale info mots-cl√©s -->
  <div id="keywordModal" class="info-modal hidden">
    <div class="info-modal-content">
      <button class="info-close-btn" onclick="toggleKeywordModal()">√ó</button>
      <h3 class="title-3">√Ä propos des mots-cl√©s</h3>
      <p>Les <strong>mots-cl√©s</strong> sont issus autant que possible du th√©saurus <a href="https://decs.bvsalud.org/fr" target="_blank">DeCS</a>.</p>
      <p>Dans la liste des cases √† cocher, vous pouvez s√©lectionner plusieurs options, mais elles sont trait√©es comme des choix s√©par√©s ("OU") et non combin√©s ("ET")."</p>
     </div>
  </div>

  <!-- Bloc Recherche -->
    <div class="search-box">
      <h4 class="title-4">Chercher dans tous les champs</h4>
      <textarea id="searchInput" placeholder="Tapez le mot recherch√©" oninput="updateTimeline()"></textarea>
      </div>
    </div>
  
  <!-- Filtres s√©lectionn√©s -->
    <div id="active-filters-section">
      <h4 class="title-4">Filtres s√©lectionn√©s :</h4>
      <div id="active-filters"></div>
    </div>

  <!--Bouton r√©iniitaliser -->
    <button class="button" onclick="resetFilters()">R√©initialiser les filtres</button>
 </div> <!-- /#filters-content -->
</div> <!-- /.filters-block -->
             
 <!-- Footer fixe -->
  <div class="side-footer">¬© 2025 ‚Äì Tous droits r√©serv√©s</div>
</div>
      
  <!-- Bouton Admin -->     
  <button id="admin-toggle-btn" style="position:fixed; bottom:10px; right:10px; opacity:0.2;" onclick="toggleAdmin()">üîß</button>

  </div>
</div>



  
 <!-- ‚úÖ Contenu principal -->
    <main class="main-content">
      <div class="container">
       <h3 class="title-3"></h3>
  <div class="timeline-layout">
    <div id="timeline" class="timeline-section"></div>
    <div id="event-details-container" class="event-details-container">
      <p style="text-align:center; font-style:italic; color:#5F5F5F;">
  Cliquez sur un √©v√©nement pour acc√©der √† sa fiche d√©taill√©e puis utilisez les fl√®ches ‚Äú‚óÄ‚Äù et ‚Äú‚ñ∂‚Äù pour naviguer entre les √©v√©nements (filtr√©s).
</p>
    </div>
  </div>
        <div id="admin-panel" style="display:none; padding:2rem; background:#f8f8f8; border-top: 2px solid #ccc;">
  <h3>üîß Mode Administration</h3>
  <button onclick="filterRecent()">Filtrer √©v√©nements r√©cents</button>
  <button onclick="checkBrokenLinks()">V√©rifier les liens</button>
 <div id="admin-output" style="margin-top:1rem;"></div>
<p style="font-size:0.9rem; color:#666; margin-top: 1rem;">
‚ö†Ô∏è Certains liens valides peuvent √™tre marqu√©s comme cass√©s √† cause de restrictions de s√©curit√© du navigateur (CORS). Testez-les manuellement si vous avez un doute.
</p>
</div>
 </div> 
</main>
  
 <script src="explorer.js"></script>
</div>
</body>
</html>
